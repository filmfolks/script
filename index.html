<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Working Screenplay Test</title>
</head>
<body>
  <h1>Fountain Live Preview Test</h1>
  <textarea id="editor" rows="10" cols="50">FADE IN:</textarea>
  <div id="preview"><em>Start typing...</em></div>

  <!-- Load Fountain -->
  <script src="https://unpkg.com/fountain-js@1.9.1/dist/fountain.js"></script>
  
  <!-- Your own script must come AFTER Fountain -->
  <script>
    const editor = document.getElementById('editor');
    const preview = document.getElementById('preview');

    if (typeof Fountain === 'undefined') {
      preview.innerHTML = '<span style="color:red">Fountain failed to load</span>';
    } else {
      const fountain = new Fountain();
      function render() {
        const parsed = fountain.parse(editor.value, true);
        preview.innerHTML = `<div class="screenplay-preview">${parsed.html.script}</div>`;
      }
      editor.addEventListener('input', render);
      render();
    }
  </script>
</body>
</html>
